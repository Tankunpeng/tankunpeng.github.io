<!DOCTYPE html>
<html lang="en">
<head>
	     <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="renderer" content="webkit"/>
    <meta name="viewport" content="
        width=device-width,
        initial-scale=1,
        minimum-scale=1,
        maximum-scale=1,
        user-scalable=no
        viewport-fit=cover">
    <!-- 开发标准页面时引用此文件，提供了基本的js及css -->
    <link rel="stylesheet" href="//static.koocdn.com/framework/css/global-wap.css">
    <script src="//static.koocdn.com/framework/js/global-wap.js"></script>
	<meta charset="UTF-8">
	<title>Kunpeng's blog</title>
	<script src="//static.koocdn.com/project/m-teach/1.x/common/wap-resize/wap-resize.js"></script>
</head>
<body>
	<!--<a href="cv">简历</a>-->
	<!--<a href="fe/IFE/ife.html">IFE展示</a>-->
<!-- 	<a href="arts/">ARTS 计划</a> -->
<!-- 	<a href="gof/">设计模式</a> -->
<!-- 	<div id="app-refresh">设计模式</div> -->
	
	<div>1<input /></div>
	<div>2<input /></div>
	<div>3<input /></div>
	<div>4<input /></div>
	<div>
		<select>
			<option value="12312">1231231<option/>
			<option value="12312">1231231<option/>
			<option value="12312">1231231<option/>
		</select>
	</div>
	<div>
		<div><input type="radio"/>a<div/>
		<div><input type="radio"/>b<div/>
		<div><input type="radio"/>c<div/>
	</div>
	<div>5<input /></div>
	<div>6<input /></div>
	<div>7<input /></div>
	
	<script>
	if ('serviceWorker' in navigator) {
	    window.addEventListener('load', function() {
		navigator.serviceWorker.register('/sw.js').then(function(registration) {
		    // Registration was successful
		    console.log('ServiceWorker registration successful with scope: ', registration.scope);
		}, function(err) {
		    // registration failed :(
		    console.log('ServiceWorker registration failed: ', err);
		});
	    });
	}	
		
		// 点击指定 DOM 时就给Service Worker 发送消息
		document.getElementById('app-refresh').addEventListener('click', function () {
			console.log('clicked')
		    navigator.serviceWorker.controller && navigator.serviceWorker.controller.postMessage({type: 'cache', data: [
    '/',
    '/gof/',
    '/arts/'
]});
		});
		
		// 接受 service worker 消息
		navigator.serviceWorker.addEventListener('message', function (event) {
		
			    alert(event.data);
			// 此处可以操作页面的 DOM 元素啦
		   
		});
    	</script>
</body>
</html>
